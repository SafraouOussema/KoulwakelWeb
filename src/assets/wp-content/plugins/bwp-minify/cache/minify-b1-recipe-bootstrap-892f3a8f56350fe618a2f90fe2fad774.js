/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.2.0",d.prototype.close=function(b){function c(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.2.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),d[e](null==f[b]?this.options[b]:f[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b).on("keydown.bs.carousel",a.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0",c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.to=function(b){var c=this,d=this.getItemIndex(this.$active=this.$element.find(".item.active"));return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=e[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:g});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(e)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:g});return a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one("bsTransitionEnd",function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),f&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(b=!b),e||d.data("bs.collapse",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};c.VERSION="3.2.0",c.DEFAULTS={toggle:!0},c.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$parent&&this.$parent.find("> .panel > .in");if(d&&d.length){var e=d.data("bs.collapse");if(e&&e.transitioning)return;b.call(d,"hide"),e||d.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return g.call(this);var h=a.camelCase(["scroll",f].join("-"));this.$element.one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(350)[f](this.$element[0][h])}}},c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=b,a.fn.collapse.Constructor=c,a.fn.collapse.noConflict=function(){return a.fn.collapse=d,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var d,e=a(this),f=e.attr("data-target")||c.preventDefault()||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(f),h=g.data("bs.collapse"),i=h?"toggle":e.data(),j=e.attr("data-parent"),k=j&&a(j);h&&h.transitioning||(k&&k.find('[data-toggle="collapse"][data-parent="'+j+'"]').not(e).addClass("collapsed"),e[g.hasClass("in")?"addClass":"removeClass"]("collapsed")),b.call(g,i)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f+', [role="menu"], [role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.2.0",c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}else b&&b()},c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.2.0",c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(document.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.$element.parent(),o=this.getPosition(n);g="bottom"==g&&j.top+j.height+l-o.scroll>o.height?"top":"top"==g&&j.top-o.scroll-l<0?"bottom":"right"==g&&j.right+k>o.width?"left":"left"==g&&j.left-k<o.left?"right":g,e.removeClass(m).addClass(g)}var p=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(p,g);var q=function(){d.$element.trigger("shown.bs."+d.type),d.hoverState=null};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(150):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=k.left?2*k.left-e+i:2*k.top-f+j,m=k.left?"left":"top",n=k.left?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(l,d[0][n],m)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover%20requires%20tooltip.html");c.VERSION="3.2.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.2.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.2.0",c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.closest("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},c.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault(),b.call(a(this),"show")})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.2.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=b-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){null!=this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:b-this.$element.height()-h}))}}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
;window.addComment=function(a){function b(){c(),g()}function c(a){if(t&&(m=j(r.cancelReplyId),n=j(r.commentFormId),m)){m.addEventListener("touchstart",e),m.addEventListener("click",e);for(var b,c=d(a),g=0,h=c.length;g<h;g++)b=c[g],b.addEventListener("touchstart",f),b.addEventListener("click",f)}}function d(a){var b,c=r.commentReplyClass;return a&&a.childNodes||(a=q),b=q.getElementsByClassName?a.getElementsByClassName(c):a.querySelectorAll("."+c)}function e(a){var b=this,c=r.temporaryFormId,d=j(c);d&&o&&(j(r.parentIdFieldId).value="0",d.parentNode.replaceChild(o,d),b.style.display="none",a.preventDefault())}function f(b){var c,d=this,e=i(d,"belowelement"),f=i(d,"commentid"),g=i(d,"respondelement"),h=i(d,"postid");e&&f&&g&&h&&(c=a.addComment.moveForm(e,f,g,h),!1===c&&b.preventDefault())}function g(){if(s){var a={childList:!0,subTree:!0};p=new s(h),p.observe(q.body,a)}}function h(a){for(var b=a.length;b--;)if(a[b].addedNodes.length)return void c()}function i(a,b){return u?a.dataset[b]:a.getAttribute("data-"+b)}function j(a){return q.getElementById(a)}function k(b,c,d,e){var f=j(b);o=j(d);var g,h,i,k=j(r.parentIdFieldId),p=j(r.postIdFieldId);if(f&&o&&k){l(o),e&&p&&(p.value=e),k.value=c,m.style.display="",f.parentNode.insertBefore(o,f.nextSibling),m.onclick=function(){return!1};try{for(var s=0;s<n.elements.length;s++)if(g=n.elements[s],h=!1,"getComputedStyle"in a?i=a.getComputedStyle(g):q.documentElement.currentStyle&&(i=g.currentStyle),(g.offsetWidth<=0&&g.offsetHeight<=0||"hidden"===i.visibility)&&(h=!0),"hidden"!==g.type&&!g.disabled&&!h){g.focus();break}}catch(t){}return!1}}function l(a){var b=r.temporaryFormId,c=j(b);c||(c=q.createElement("div"),c.id=b,c.style.display="none",a.parentNode.insertBefore(c,a))}var m,n,o,p,q=a.document,r={commentReplyClass:"comment-reply-link",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},s=a.MutationObserver||a.WebKitMutationObserver||a.MozMutationObserver,t="querySelector"in q&&"addEventListener"in a,u=!!q.documentElement.dataset;return t&&"loading"!==q.readyState?b():t&&a.addEventListener("DOMContentLoaded",b,!1),{init:c,moveForm:k}}(window);
;/*! ResponsiveSlides.js v1.54
 * http://responsiveslides.com
 * http://viljamis.com
 *
 * Copyright (c) 2011-2012 @viljamis
 * Available under the MIT license
 */

/*jslint browser: true, sloppy: true, vars: true, plusplus: true, indent: 2 */

(function ($, window, i) {
  $.fn.responsiveSlides = function (options) {

    // Default settings
    var settings = $.extend({
      "auto": true,             // Boolean: Animate automatically, true or false
      "speed": 500,             // Integer: Speed of the transition, in milliseconds
      "timeout": 4000,          // Integer: Time between slide transitions, in milliseconds
      "pager": false,           // Boolean: Show pager, true or false
      "nav": false,             // Boolean: Show navigation, true or false
      "random": false,          // Boolean: Randomize the order of the slides, true or false
      "pause": false,           // Boolean: Pause on hover, true or false
      "pauseControls": true,    // Boolean: Pause when hovering controls, true or false
      "prevText": "Previous",   // String: Text for the "previous" button
      "nextText": "Next",       // String: Text for the "next" button
      "maxwidth": "",           // Integer: Max-width of the slideshow, in pixels
      "navContainer": "",       // Selector: Where auto generated controls should be appended to, default is after the <ul>
      "manualControls": "",     // Selector: Declare custom pager navigation
      "namespace": "rslides",   // String: change the default namespace used
      "before": $.noop,         // Function: Before callback
      "after": $.noop           // Function: After callback
    }, options);

    return this.each(function () {

      // Index for namespacing
      i++;

      var $this = $(this),

        // Local variables
        vendor,
        selectTab,
        startCycle,
        restartCycle,
        rotate,
        $tabs,

        // Helpers
        index = 0,
        $slide = $this.children(),
        length = $slide.size(),
        fadeTime = parseFloat(settings.speed),
        waitTime = parseFloat(settings.timeout),
        maxw = parseFloat(settings.maxwidth),

        // Namespacing
        namespace = settings.namespace,
        namespaceIdx = namespace + i,

        // Classes
        navClass = namespace + "_nav " + namespaceIdx + "_nav",
        activeClass = namespace + "_here",
        visibleClass = namespaceIdx + "_on",
        slideClassPrefix = namespaceIdx + "_s",

        // Pager
        $pager = $("<ul class='" + namespace + "_tabs " + namespaceIdx + "_tabs' />"),

        // Styles for visible and hidden slides
        visible = {"float": "left", "position": "relative", "opacity": 1, "zIndex": 2},
        hidden = {"float": "none", "position": "absolute", "opacity": 0, "zIndex": 1},

        // Detect transition support
        supportsTransitions = (function () {
          var docBody = document.body || document.documentElement;
          var styles = docBody.style;
          var prop = "transition";
          if (typeof styles[prop] === "string") {
            return true;
          }
          // Tests for vendor specific prop
          vendor = ["Moz", "Webkit", "Khtml", "O", "ms"];
          prop = prop.charAt(0).toUpperCase() + prop.substr(1);
          var i;
          for (i = 0; i < vendor.length; i++) {
            if (typeof styles[vendor[i] + prop] === "string") {
              return true;
            }
          }
          return false;
        })(),

        // Fading animation
        slideTo = function (idx) {
          settings.before(idx);
          // If CSS3 transitions are supported
          if (supportsTransitions) {
            $slide
              .removeClass(visibleClass)
              .css(hidden)
              .eq(idx)
              .addClass(visibleClass)
              .css(visible);
            index = idx;
            setTimeout(function () {
              settings.after(idx);
            }, fadeTime);
          // If not, use jQuery fallback
          } else {
            $slide
              .stop()
              .fadeOut(fadeTime, function () {
                $(this)
                  .removeClass(visibleClass)
                  .css(hidden)
                  .css("opacity", 1);
              })
              .eq(idx)
              .fadeIn(fadeTime, function () {
                $(this)
                  .addClass(visibleClass)
                  .css(visible);
                settings.after(idx);
                index = idx;
              });
          }
        };

      // Random order
      if (settings.random) {
        $slide.sort(function () {
          return (Math.round(Math.random()) - 0.5);
        });
        $this
          .empty()
          .append($slide);
      }

      // Add ID's to each slide
      $slide.each(function (i) {
        this.id = slideClassPrefix + i;
      });

      // Add max-width and classes
      $this.addClass(namespace + " " + namespaceIdx);
      if (options && options.maxwidth) {
        $this.css("max-width", maxw);
      }

      // Hide all slides, then show first one
      $slide
        .hide()
        .css(hidden)
        .eq(0)
        .addClass(visibleClass)
        .css(visible)
        .show();

      // CSS transitions
      if (supportsTransitions) {
        $slide
          .show()
          .css({
            // -ms prefix isn't needed as IE10 uses prefix free version
            "-webkit-transition": "opacity " + fadeTime + "ms ease-in-out",
            "-moz-transition": "opacity " + fadeTime + "ms ease-in-out",
            "-o-transition": "opacity " + fadeTime + "ms ease-in-out",
            "transition": "opacity " + fadeTime + "ms ease-in-out"
          });
      }

      // Only run if there's more than one slide
      if ($slide.size() > 1) {

        // Make sure the timeout is at least 100ms longer than the fade
        if (waitTime < fadeTime + 100) {
          return;
        }

        // Pager
        if (settings.pager && !settings.manualControls) {
          var tabMarkup = [];
          $slide.each(function (i) {
            var n = i + 1;
            tabMarkup +=
              "<li>" +
              "<a href='#' class='" + slideClassPrefix + n + "'>" + n + "</a>" +
              "</li>";
          });
          $pager.append(tabMarkup);

          // Inject pager
          if (options.navContainer) {
            $(settings.navContainer).append($pager);
          } else {
            $this.after($pager);
          }
        }

        // Manual pager controls
        if (settings.manualControls) {
          $pager = $(settings.manualControls);
          $pager.addClass(namespace + "_tabs " + namespaceIdx + "_tabs");
        }

        // Add pager slide class prefixes
        if (settings.pager || settings.manualControls) {
          $pager.find('li').each(function (i) {
            $(this).addClass(slideClassPrefix + (i + 1));
          });
        }

        // If we have a pager, we need to set up the selectTab function
        if (settings.pager || settings.manualControls) {
          $tabs = $pager.find('a');

          // Select pager item
          selectTab = function (idx) {
            $tabs
              .closest("li")
              .removeClass(activeClass)
              .eq(idx)
              .addClass(activeClass);
          };
        }

        // Auto cycle
        if (settings.auto) {

          startCycle = function () {
            rotate = setInterval(function () {

              // Clear the event queue
              $slide.stop(true, true);

              var idx = index + 1 < length ? index + 1 : 0;

              // Remove active state and set new if pager is set
              if (settings.pager || settings.manualControls) {
                selectTab(idx);
              }

              slideTo(idx);
            }, waitTime);
          };

          // Init cycle
          startCycle();
        }

        // Restarting cycle
        restartCycle = function () {
          if (settings.auto) {
            // Stop
            clearInterval(rotate);
            // Restart
            startCycle();
          }
        };

        // Pause on hover
        if (settings.pause) {
          $this.hover(function () {
            clearInterval(rotate);
          }, function () {
            restartCycle();
          });
        }

        // Pager click event handler
        if (settings.pager || settings.manualControls) {
          $tabs.bind("click", function (e) {
            e.preventDefault();

            if (!settings.pauseControls) {
              restartCycle();
            }

            // Get index of clicked tab
            var idx = $tabs.index(this);

            // Break if element is already active or currently animated
            if (index === idx || $("." + visibleClass).queue('fx').length) {
              return;
            }

            // Remove active state from old tab and set new one
            selectTab(idx);

            // Do the animation
            slideTo(idx);
          })
            .eq(0)
            .closest("li")
            .addClass(activeClass);

          // Pause when hovering pager
          if (settings.pauseControls) {
            $tabs.hover(function () {
              clearInterval(rotate);
            }, function () {
              restartCycle();
            });
          }
        }

        // Navigation
        if (settings.nav) {
          var navMarkup =
            "<a href='#' class='" + navClass + " prev'>" + settings.prevText + "</a>" +
            "<a href='#' class='" + navClass + " next'>" + settings.nextText + "</a>";

          // Inject navigation
          if (options.navContainer) {
            $(settings.navContainer).append(navMarkup);
          } else {
            $this.append(navMarkup);
          }

          var $trigger = $("." + namespaceIdx + "_nav"),
            $prev = $trigger.filter(".prev");

          // Click event handler
          $trigger.bind("click", function (e) {
            e.preventDefault();

            var $visibleClass = $("." + visibleClass);

            // Prevent clicking if currently animated
            if ($visibleClass.queue('fx').length) {
              return;
            }

            //  Adds active class during slide animation
            //  $(this)
            //    .addClass(namespace + "_active")
            //    .delay(fadeTime)
            //    .queue(function (next) {
            //      $(this).removeClass(namespace + "_active");
            //      next();
            //  });

            // Determine where to slide
            var idx = $slide.index($visibleClass),
              prevIdx = idx - 1,
              nextIdx = idx + 1 < length ? index + 1 : 0;

            // Go to slide
            slideTo($(this)[0] === $prev[0] ? prevIdx : nextIdx);
            if (settings.pager || settings.manualControls) {
              selectTab($(this)[0] === $prev[0] ? prevIdx : nextIdx);
            }

            if (!settings.pauseControls) {
              restartCycle();
            }
          });

          // Pause when hovering navigation
          if (settings.pauseControls) {
            $trigger.hover(function () {
              clearInterval(rotate);
            }, function () {
              restartCycle();
            });
          }
        }

      }

      // Max-width fallback
      if (typeof document.body.style.maxWidth === "undefined" && options.maxwidth) {
        var widthSupport = function () {
          $this.css("width", "100%");
          if ($this.width() > maxw) {
            $this.css("width", maxw);
          }
        };

        // Init fallback
        widthSupport();
        $(window).bind("resize", function () {
          widthSupport();
        });
      }

    });

  };
})(jQuery, this, 0);

;/*!
 * Modernizr v2.7.1
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=(function(window,document,undefined){var version='2.7.1',Modernizr={},enableClasses=true,docElement=document.documentElement,mod='modernizr',modElem=document.createElement(mod),mStyle=modElem.style,inputElem=document.createElement('input'),smile=':)',toString={}.toString,prefixes=' -webkit- -moz- -o- -ms- '.split(' '),omPrefixes='Webkit Moz O ms',cssomPrefixes=omPrefixes.split(' '),domPrefixes=omPrefixes.toLowerCase().split(' '),ns={'svg':'http://www.w3.org/2000/svg'},tests={},inputs={},attrs={},classes=[],slice=classes.slice,featureName,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,docOverflow,div=document.createElement('div'),body=document.body,fakeBody=body||document.createElement('body');if(parseInt(nodes,10)){while(nodes--){node=document.createElement('div');node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node);}}
style=['&#173;','<style id="s',mod,'">',rule,'</style>'].join('');div.id=mod;(body?div:fakeBody).innerHTML+=style;fakeBody.appendChild(div);if(!body){fakeBody.style.background='';fakeBody.style.overflow='hidden';docOverflow=docElement.style.overflow;docElement.style.overflow='hidden';docElement.appendChild(fakeBody);}
ret=callback(div,rule);if(!body){fakeBody.parentNode.removeChild(fakeBody);docElement.style.overflow=docOverflow;}else{div.parentNode.removeChild(div);}
return!!ret;},testMediaQuery=function(mq){var matchMedia=window.matchMedia||window.msMatchMedia;if(matchMedia){return matchMedia(mq).matches;}
var bool;injectElementWithStyles('@media '+mq+' { #'+mod+' { position: absolute; } }',function(node){bool=(window.getComputedStyle?getComputedStyle(node,null):node.currentStyle)['position']=='absolute';});return bool;},isEventSupported=(function(){var TAGNAMES={'select':'input','change':'input','submit':'form','reset':'form','error':'img','load':'img','abort':'img'};function isEventSupported(eventName,element){element=element||document.createElement(TAGNAMES[eventName]||'div');eventName='on'+eventName;var isSupported=eventName in element;if(!isSupported){if(!element.setAttribute){element=document.createElement('div');}
if(element.setAttribute&&element.removeAttribute){element.setAttribute(eventName,'');isSupported=is(element[eventName],'function');if(!is(element[eventName],'undefined')){element[eventName]=undefined;}
element.removeAttribute(eventName);}}
element=null;return isSupported;}
return isEventSupported;})(),_hasOwnProperty=({}).hasOwnProperty,hasOwnProp;if(!is(_hasOwnProperty,'undefined')&&!is(_hasOwnProperty.call,'undefined')){hasOwnProp=function(object,property){return _hasOwnProperty.call(object,property);};}
else{hasOwnProp=function(object,property){return((property in object)&&is(object.constructor.prototype[property],'undefined'));};}
if(!Function.prototype.bind){Function.prototype.bind=function bind(that){var target=this;if(typeof target!="function"){throw new TypeError();}
var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F();var result=target.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result;}
return self;}else{return target.apply(that,args.concat(slice.call(arguments)));}};return bound;};}
function setCss(str){mStyle.cssText=str;}
function setCssAll(str1,str2){return setCss(prefixes.join(str1+';')+(str2||''));}
function is(obj,type){return typeof obj===type;}
function contains(str,substr){return!!~(''+str).indexOf(substr);}
function testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,"-")&&mStyle[prop]!==undefined){return prefixed=='pfx'?prop:true;}}
return false;}
function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined){if(elem===false)return props[i];if(is(item,'function')){return item.bind(elem||obj);}
return item;}}
return false;}
function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+' '+cssomPrefixes.join(ucProp+' ')+ucProp).split(' ');if(is(prefixed,"string")||is(prefixed,"undefined")){return testProps(props,prefixed);}else{props=(prop+' '+(domPrefixes).join(ucProp+' ')+ucProp).split(' ');return testDOMProps(props,prefixed,elem);}}
tests['flexbox']=function(){return testPropsAll('flexWrap');};tests['flexboxlegacy']=function(){return testPropsAll('boxDirection');};tests['canvas']=function(){var elem=document.createElement('canvas');return!!(elem.getContext&&elem.getContext('2d'));};tests['canvastext']=function(){return!!(Modernizr['canvas']&&is(document.createElement('canvas').getContext('2d').fillText,'function'));};tests['webgl']=function(){return!!window.WebGLRenderingContext;};tests['touch']=function(){var bool;if(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch){bool=true;}else{injectElementWithStyles(['@media (',prefixes.join('touch-enabled),('),mod,')','{#modernizr{top:9px;position:absolute}}'].join(''),function(node){bool=node.offsetTop===9;});}
return bool;};tests['geolocation']=function(){return'geolocation'in navigator;};tests['postmessage']=function(){return!!window.postMessage;};tests['websqldatabase']=function(){return!!window.openDatabase;};tests['indexedDB']=function(){return!!testPropsAll("indexedDB",window);};tests['hashchange']=function(){return isEventSupported('hashchange',window)&&(document.documentMode===undefined||document.documentMode>7);};tests['history']=function(){return!!(window.history&&history.pushState);};tests['draganddrop']=function(){var div=document.createElement('div');return('draggable'in div)||('ondragstart'in div&&'ondrop'in div);};tests['websockets']=function(){return'WebSocket'in window||'MozWebSocket'in window;};tests['rgba']=function(){setCss('background-color:rgba(150,255,150,.5)');return contains(mStyle.backgroundColor,'rgba');};tests['hsla']=function(){setCss('background-color:hsla(120,40%,100%,.5)');return contains(mStyle.backgroundColor,'rgba')||contains(mStyle.backgroundColor,'hsla');};tests['multiplebgs']=function(){setCss('background:url(https://),url(https://),red url(https://)');return(/(url\s*\(.*?){3}/).test(mStyle.background);};tests['backgroundsize']=function(){return testPropsAll('backgroundSize');};tests['borderimage']=function(){return testPropsAll('borderImage');};tests['borderradius']=function(){return testPropsAll('borderRadius');};tests['boxshadow']=function(){return testPropsAll('boxShadow');};tests['textshadow']=function(){return document.createElement('div').style.textShadow==='';};tests['opacity']=function(){setCssAll('opacity:.55');return(/^0.55$/).test(mStyle.opacity);};tests['cssanimations']=function(){return testPropsAll('animationName');};tests['csscolumns']=function(){return testPropsAll('columnCount');};tests['cssgradients']=function(){var str1='background-image:',str2='gradient(linear,left top,right bottom,from(#9f9),to(white));',str3='linear-gradient(left top,#9f9, white);';setCss((str1+'-webkit- '.split(' ').join(str2+str1)+
prefixes.join(str3+str1)).slice(0,-str1.length));return contains(mStyle.backgroundImage,'gradient');};tests['cssreflections']=function(){return testPropsAll('boxReflect');};tests['csstransforms']=function(){return!!testPropsAll('transform');};tests['csstransforms3d']=function(){var ret=!!testPropsAll('perspective');if(ret&&'webkitPerspective'in docElement.style){injectElementWithStyles('@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}',function(node,rule){ret=node.offsetLeft===9&&node.offsetHeight===3;});}
return ret;};tests['csstransitions']=function(){return testPropsAll('transition');};tests['fontface']=function(){var bool;injectElementWithStyles('@font-face {font-family:"font";src:url("https:///")}',function(node,rule){var style=document.getElementById('smodernizr'),sheet=style.sheet||style.styleSheet,cssText=sheet?(sheet.cssRules&&sheet.cssRules[0]?sheet.cssRules[0].cssText:sheet.cssText||''):'';bool=/src/i.test(cssText)&&cssText.indexOf(rule.split(' ')[0])===0;});return bool;};tests['generatedcontent']=function(){var bool;injectElementWithStyles(['#',mod,'{font:0/0 a}#',mod,':after{content:"',smile,'";visibility:hidden;font:3px/1 a}'].join(''),function(node){bool=node.offsetHeight>=3;});return bool;};tests['video']=function(){var elem=document.createElement('video'),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,'');bool.h264=elem.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,'');bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,'');}}catch(e){}
return bool;};tests['audio']=function(){var elem=document.createElement('audio'),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,'');bool.mp3=elem.canPlayType('audio/mpeg;').replace(/^no$/,'');bool.wav=elem.canPlayType('audio/wav; codecs="1"').replace(/^no$/,'');bool.m4a=(elem.canPlayType('audio/x-m4a;')||elem.canPlayType('audio/aac;')).replace(/^no$/,'');}}catch(e){}
return bool;};tests['localstorage']=function(){try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true;}catch(e){return false;}};tests['sessionstorage']=function(){try{sessionStorage.setItem(mod,mod);sessionStorage.removeItem(mod);return true;}catch(e){return false;}};tests['webworkers']=function(){return!!window.Worker;};tests['applicationcache']=function(){return!!window.applicationCache;};tests['svg']=function(){return!!document.createElementNS&&!!document.createElementNS(ns.svg,'svg').createSVGRect;};tests['inlinesvg']=function(){var div=document.createElement('div');div.innerHTML='<svg/>';return(div.firstChild&&div.firstChild.namespaceURI)==ns.svg;};tests['smil']=function(){return!!document.createElementNS&&/SVGAnimate/.test(toString.call(document.createElementNS(ns.svg,'animate')));};tests['svgclippaths']=function(){return!!document.createElementNS&&/SVGClipPath/.test(toString.call(document.createElementNS(ns.svg,'clipPath')));};function webforms(){Modernizr['input']=(function(props){for(var i=0,len=props.length;i<len;i++){attrs[props[i]]=!!(props[i]in inputElem);}
if(attrs.list){attrs.list=!!(document.createElement('datalist')&&window.HTMLDataListElement);}
return attrs;})('autocomplete autofocus list placeholder max min multiple pattern required step'.split(' '));Modernizr['inputtypes']=(function(props){for(var i=0,bool,inputElemType,defaultView,len=props.length;i<len;i++){inputElem.setAttribute('type',inputElemType=props[i]);bool=inputElem.type!=='text';if(bool){inputElem.value=smile;inputElem.style.cssText='position:absolute;visibility:hidden;';if(/^range$/.test(inputElemType)&&inputElem.style.WebkitAppearance!==undefined){docElement.appendChild(inputElem);defaultView=document.defaultView;bool=defaultView.getComputedStyle&&defaultView.getComputedStyle(inputElem,null).WebkitAppearance!=='textfield'&&(inputElem.offsetHeight!==0);docElement.removeChild(inputElem);}else if(/^(search|tel)$/.test(inputElemType)){}else if(/^(url|email)$/.test(inputElemType)){bool=inputElem.checkValidity&&inputElem.checkValidity()===false;}else{bool=inputElem.value!=smile;}}
inputs[props[i]]=!!bool;}
return inputs;})('search tel url email datetime date month week time datetime-local number range color'.split(' '));}
for(var feature in tests){if(hasOwnProp(tests,feature)){featureName=feature.toLowerCase();Modernizr[featureName]=tests[feature]();classes.push((Modernizr[featureName]?'':'no-')+featureName);}}
Modernizr.input||webforms();Modernizr.addTest=function(feature,test){if(typeof feature=='object'){for(var key in feature){if(hasOwnProp(feature,key)){Modernizr.addTest(key,feature[key]);}}}else{feature=feature.toLowerCase();if(Modernizr[feature]!==undefined){return Modernizr;}
test=typeof test=='function'?test():test;if(typeof enableClasses!=="undefined"&&enableClasses){docElement.className+=' '+(test?'':'no-')+feature;}
Modernizr[feature]=test;}
return Modernizr;};setCss('');modElem=inputElem=null;;(function(window,document){var version='3.7.0';var options=window.html5||{};var reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var supportsHtml5Styles;var expando='_html5shiv';var expanID=0;var expandoData={};var supportsUnknownElements;(function(){try{var a=document.createElement('a');a.innerHTML='<xyz></xyz>';supportsHtml5Styles=('hidden'in a);supportsUnknownElements=a.childNodes.length==1||(function(){(document.createElement)('a');var frag=document.createDocumentFragment();return(typeof frag.cloneNode=='undefined'||typeof frag.createDocumentFragment=='undefined'||typeof frag.createElement=='undefined');}());}catch(e){supportsHtml5Styles=true;supportsUnknownElements=true;}}());function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement('p'),parent=ownerDocument.getElementsByTagName('head')[0]||ownerDocument.documentElement;p.innerHTML='x<style>'+cssText+'</style>';return parent.insertBefore(p.lastChild,parent.firstChild);}
function getElements(){var elements=html5.elements;return typeof elements=='string'?elements.split(' '):elements;}
function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];if(!data){data={};expanID++;ownerDocument[expando]=expanID;expandoData[expanID]=data;}
return data;}
function createElement(nodeName,ownerDocument,data){if(!ownerDocument){ownerDocument=document;}
if(supportsUnknownElements){return ownerDocument.createElement(nodeName);}
if(!data){data=getExpandoData(ownerDocument);}
var node;if(data.cache[nodeName]){node=data.cache[nodeName].cloneNode();}else if(saveClones.test(nodeName)){node=(data.cache[nodeName]=data.createElem(nodeName)).cloneNode();}else{node=data.createElem(nodeName);}
return node.canHaveChildren&&!reSkip.test(nodeName)&&!node.tagUrn?data.frag.appendChild(node):node;}
function createDocumentFragment(ownerDocument,data){if(!ownerDocument){ownerDocument=document;}
if(supportsUnknownElements){return ownerDocument.createDocumentFragment();}
data=data||getExpandoData(ownerDocument);var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;for(;i<l;i++){clone.createElement(elems[i]);}
return clone;}
function shivMethods(ownerDocument,data){if(!data.cache){data.cache={};data.createElem=ownerDocument.createElement;data.createFrag=ownerDocument.createDocumentFragment;data.frag=data.createFrag();}
ownerDocument.createElement=function(nodeName){if(!html5.shivMethods){return data.createElem(nodeName);}
return createElement(nodeName,ownerDocument,data);};ownerDocument.createDocumentFragment=Function('h,f','return function(){'+'var n=f.cloneNode(),c=n.createElement;'+'h.shivMethods&&('+
getElements().join().replace(/[\w\-]+/g,function(nodeName){data.createElem(nodeName);data.frag.createElement(nodeName);return'c("'+nodeName+'")';})+');return n}')(html5,data.frag);}
function shivDocument(ownerDocument){if(!ownerDocument){ownerDocument=document;}
var data=getExpandoData(ownerDocument);if(html5.shivCSS&&!supportsHtml5Styles&&!data.hasCSS){data.hasCSS=!!addStyleSheet(ownerDocument,'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}'+'mark{background:#FF0;color:#000}'+'template{display:none}');}
if(!supportsUnknownElements){shivMethods(ownerDocument,data);}
return ownerDocument;}
var html5={'elements':options.elements||'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video','version':version,'shivCSS':(options.shivCSS!==false),'supportsUnknownElements':supportsUnknownElements,'shivMethods':(options.shivMethods!==false),'type':'default','shivDocument':shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment};window.html5=html5;shivDocument(document);}(this,document));Modernizr._version=version;Modernizr._prefixes=prefixes;Modernizr._domPrefixes=domPrefixes;Modernizr._cssomPrefixes=cssomPrefixes;Modernizr.mq=testMediaQuery;Modernizr.hasEvent=isEventSupported;Modernizr.testProp=function(prop){return testProps([prop]);};Modernizr.testAllProps=testPropsAll;Modernizr.testStyles=injectElementWithStyles;Modernizr.prefixed=function(prop,obj,elem){if(!obj){return testPropsAll(prop,'pfx');}else{return testPropsAll(prop,obj,elem);}};docElement.className=docElement.className.replace(/(^|\s)no-js(\s|$)/,'$1$2')+
(enableClasses?' js '+classes.join(' '):'');return Modernizr;})(this,this.document);
;/*! Magnific Popup - v0.9.9 - 2013-12-27
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2013 Dmitry Semenov; */
(function(e){var t,n,i,o,r,a,s,l="Close",c="BeforeClose",d="AfterClose",u="BeforeAppend",p="MarkupParse",f="Open",m="Change",g="mfp",h="."+g,v="mfp-ready",C="mfp-removing",y="mfp-prevent-close",w=function(){},b=!!window.jQuery,I=e(window),x=function(e,n){t.ev.on(g+e+h,n)},k=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},T=function(n,i){t.ev.triggerHandler(g+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},E=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},_=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=S(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=e(document),t.popupsCache={}},open:function(n){i||(i=e(document.body));var r;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,l=n.items;for(r=0;l.length>r;r++)if(s=l[r],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=r;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return t.updateItemHTML(),void 0;t.types=[],a="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):o,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=k("bg").on("click"+h,function(){t.close()}),t.wrap=k("wrap").attr("tabindex",-1).on("click"+h,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=k("container",t.wrap)),t.contentContainer=k("content"),t.st.preloader&&(t.preloader=k("preloader",t.container,t.st.tLoading));var c=e.magnificPopup.modules;for(r=0;c.length>r;r++){var d=c[r];d=d.charAt(0).toUpperCase()+d.slice(1),t["init"+d].call(t)}T("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(x(p,function(e,t,n,i){n.close_replaceWith=E(i.type)}),a+=" mfp-close-btn-in"):t.wrap.append(E())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:I.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),t.st.enableEscapeKey&&o.on("keyup"+h,function(e){27===e.keyCode&&t.close()}),I.on("resize"+h,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var u=t.wH=I.height(),m={};if(t.fixedContentPos&&t._hasScrollBar(u)){var g=t._getScrollbarSize();g&&(m.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):m.overflow="hidden");var C=t.st.mainClass;return t.isIE7&&(C+=" mfp-ie7"),C&&t._addClassToMFP(C),t.updateItemHTML(),T("BuildControls"),e("html").css(m),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||i),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),o.on("focusin"+h,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),T(f),n},close:function(){t.isOpen&&(T(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(C),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){T(l);var n=C+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}o.off("keyup"+h+" focusin"+h),t.ev.off(h),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,T(d)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||I.height();t.fixedContentPos||t.wrap.css("height",t.wH),T("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(T("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=t.st[i]?t.st[i].markup:!1;T("FirstMarkupParse",o),t.currTemplate[i]=o?e(o):!0}r&&r!==n.type&&t.container.removeClass("mfp-"+r+"-holder");var a=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(a,i),n.preloaded=!0,T(m,n),r=n.type,t.container.prepend(t.contentContainer),T("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(E()):t.content=e:t.content="",T(u),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,o=t.items[n];if(o.tagName?o={el:e(o)}:(i=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,a=0;r.length>a;a++)if(o.el.hasClass("mfp-"+r[a])){i=r[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=i||t.st.type||"inline",o.index=n,o.parsed=!0,t.items[n]=o,T("ElementParse",o),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var o="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(o).on(o,i)):(n.isObj=!1,n.delegate?e.off(o).on(o,n.delegate,i):(n.items=e,e.off(o).on(o,i)))},_openClick:function(n,i,o){var r=void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick;if(r||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(a>I.width())return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),o.el=e(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),t.open(o)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var o={status:e,text:i};T("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var i=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(i&&o)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(o&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?o.height():document.body.scrollHeight)>(e||I.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),T(p,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(o=e.split("_"),o.length>1){var i=t.find(h+"-"+o[0]);if(i.length>0){var r=o[1];"replaceWith"===r?i[0]!==n[0]&&i.replaceWith(n):"img"===r?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(o[1],n)}}else t.find(h+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,n){return _(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){_();var i=e(this);if("string"==typeof n)if("open"===n){var o,r=b?i.data("magnificPopup"):i[0].magnificPopup,a=parseInt(arguments[1],10)||0;r.items?o=r.items[a]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(a)),t._openClick({mfpEl:o},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),b?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var P,O,z,M="inline",B=function(){z&&(O.after(z.addClass(P)).detach(),z=null)};e.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(M),x(l+"."+M,function(){B()})},getInline:function(n,i){if(B(),n.src){var o=t.st.inline,r=e(n.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(O||(P=o.hiddenClass,O=k(P),P="mfp-"+P),z=r.after(O).detach().removeClass(P)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var F,H="ajax",L=function(){F&&i.removeClass(F)},A=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(H,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(H),F=t.st.ajax.cursor,x(l+"."+H,A),x("BeforeChange."+H,A)},getAjax:function(n){F&&i.addClass(F),t.updateStatus("loading");var o=e.extend({url:n.src,success:function(i,o,r){var a={data:i,xhr:r};T("ParseAjax",a),t.appendContent(e(a.data),H),n.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),T("AjaxContentAdded")},error:function(){L(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(o),""}}});var j,N=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),x(f+n,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),x(l+n,function(){e.cursor&&i.removeClass(e.cursor),I.off("resize"+h)}),x("Resize"+n,t.resizeImage),t.isLowIE&&x("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,T("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){j&&clearInterval(j),j=setInterval(function(){return i.naturalWidth>0?(t._onImageHasSize(e),void 0):(n>200&&clearInterval(j),n++,3===n?o(10):40===n?o(50):100===n&&o(500),void 0)},r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,T("ImageLoadComplete")):(o++,200>o?setTimeout(r,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.img=e(c).on("load.mfploader",r).on("error.mfploader",a),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),c=n.img[0],c.naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:N(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(j&&clearInterval(j),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var W,R=function(){return void 0===W&&(W=void 0!==document.createElement("p").style.MozTransform),W};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var o,r,a=n.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,t.css(o),t},d=function(){t.content.css("visibility","visible")};x("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return d(),void 0;r=s(e),r.css(t._getOffset()),t.wrap.append(r),o=setTimeout(function(){r.css(t._getOffset(!0)),o=setTimeout(function(){d(),setTimeout(function(){r.remove(),e=r=null,T("ZoomAnimationEnded")},16)},a)},16)}}),x(c+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;r=s(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),x(l+i,function(){t._allowZoom()&&(d(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=i.offset(),r=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var s={width:i.width(),height:(b?i.innerHeight():i[0].offsetHeight)-a-r};return R()?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var Z="iframe",q="//about:blank",D=function(e){if(t.currTemplate[Z]){var n=t.currTemplate[Z].find("iframe");n.length&&(e||(n[0].src=q),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(Z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(Z),x("BeforeChange",function(e,t,n){t!==n&&(t===Z?D():n===Z&&D(!0))}),x(l+"."+Z,function(){D()})},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var a={};return r.srcAction&&(a[r.srcAction]=o),t._parseMarkup(i,a,n),t.updateStatus("ready"),i}}});var K=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},Y=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",x(f+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),o.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),x("UpdateStatus"+i,function(e,n){n.text&&(n.text=Y(n.text,t.currItem.index,t.items.length))}),x(p+i,function(e,i,o,r){var a=t.items.length;o.counter=a>1?Y(n.tCounter,r.index,a):""}),x("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,o=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(y),a=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(y),s=r?"mfpFastClick":"click";o[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(k("b",o[0],!1,!0),k("a",o[0],!1,!0),k("b",a[0],!1,!0),k("a",a[0],!1,!0)),t.container.append(o.add(a))}}),x(m+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),x(l+i,function(){o.off(i),t.wrap.off("click"+i),t.arrowLeft&&r&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}),void 0):!1},next:function(){t.direction=!0,t.index=K(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=K(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),o=Math.min(n[1],t.items.length);for(e=1;(t.direction?o:i)>=e;e++)t._preloadItem(t.index+e);for(e=1;(t.direction?i:o)>=e;e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=K(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),T("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,T("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var U="retina";e.magnificPopup.registerModule(U,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(x("ImageHasSize."+U,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),x("ElementParse."+U,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,i=function(){I.off("touchmove"+r+" touchend"+r)},o="mfpFastClick",r="."+o;e.fn.mfpFastClick=function(o){return e(this).each(function(){var a,s=e(this);if(n){var l,c,d,u,p,f;s.on("touchstart"+r,function(e){u=!1,f=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=p.clientX,d=p.clientY,I.on("touchmove"+r,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,f=p.length,p=p[0],(Math.abs(p.clientX-c)>10||Math.abs(p.clientY-d)>10)&&(u=!0,i())}).on("touchend"+r,function(e){i(),u||f>1||(a=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},t),o())})})}s.on("click"+r,function(){a||o()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+r+" click"+r),n&&I.off("touchmove"+r+" touchend"+r)}}(),_()})(window.jQuery||window.Zepto);
;var Opentip,firstAdapter,i,mouseMoved,mousePosition,mousePositionObservers,position,vendors,_i,_len,_ref,__slice=[].slice,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i;}return-1;},__hasProp={}.hasOwnProperty;Opentip=(function(){Opentip.prototype.STICKS_OUT_TOP=1;Opentip.prototype.STICKS_OUT_BOTTOM=2;Opentip.prototype.STICKS_OUT_LEFT=1;Opentip.prototype.STICKS_OUT_RIGHT=2;Opentip.prototype["class"]={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"};function Opentip(element,content,title,options){var elementsOpentips,hideTrigger,methodToBind,optionSources,prop,styleName,_i,_j,_len,_len1,_ref,_ref1,_ref2,_tmpStyle,_this=this;this.id=++Opentip.lastId;this.debug("Creating Opentip.");Opentip.tips.push(this);this.adapter=Opentip.adapter;elementsOpentips=this.adapter.data(element,"opentips")||[];elementsOpentips.push(this);this.adapter.data(element,"opentips",elementsOpentips);this.triggerElement=this.adapter.wrap(element);if(this.triggerElement.length>1){throw new Error("You can't call Opentip on multiple elements.");}
if(this.triggerElement.length<1){throw new Error("Invalid element.");}
this.loaded=false;this.loading=false;this.visible=false;this.waitingToShow=false;this.waitingToHide=false;this.currentPosition={left:0,top:0};this.dimensions={width:100,height:50};this.content="";this.redraw=true;this.currentObservers={showing:false,visible:false,hiding:false,hidden:false};options=this.adapter.clone(options);if(typeof content==="object"){options=content;content=title=void 0;}else if(typeof title==="object"){options=title;title=void 0;}
if(title!=null){options.title=title;}
if(content!=null){this.setContent(content);}
if(options["extends"]==null){if(options.style!=null){options["extends"]=options.style;}else{options["extends"]=Opentip.defaultStyle;}}
optionSources=[options];_tmpStyle=options;while(_tmpStyle["extends"]){styleName=_tmpStyle["extends"];_tmpStyle=Opentip.styles[styleName];if(_tmpStyle==null){throw new Error("Invalid style: "+styleName);}
optionSources.unshift(_tmpStyle);if(!((_tmpStyle["extends"]!=null)||styleName==="standard")){_tmpStyle["extends"]="standard";}}
options=(_ref=this.adapter).extend.apply(_ref,[{}].concat(__slice.call(optionSources)));options.hideTriggers=(function(){var _i,_len,_ref1,_results;_ref1=options.hideTriggers;_results=[];for(_i=0,_len=_ref1.length;_i<_len;_i++){hideTrigger=_ref1[_i];_results.push(hideTrigger);}
return _results;})();if(options.hideTrigger&&options.hideTriggers.length===0){options.hideTriggers.push(options.hideTrigger);}
_ref1=["tipJoint","targetJoint","stem"];for(_i=0,_len=_ref1.length;_i<_len;_i++){prop=_ref1[_i];if(options[prop]&&typeof options[prop]==="string"){options[prop]=new Opentip.Joint(options[prop]);}}
if(options.ajax&&(options.ajax===true||!options.ajax)){if(this.adapter.tagName(this.triggerElement)==="A"){options.ajax=this.adapter.attr(this.triggerElement,"href");}else{options.ajax=false;}}
if(options.showOn==="click"&&this.adapter.tagName(this.triggerElement)==="A"){this.adapter.observe(this.triggerElement,"click",function(e){e.preventDefault();e.stopPropagation();return e.stopped=true;});}
if(options.target){options.fixed=true;}
if(options.stem===true){options.stem=new Opentip.Joint(options.tipJoint);}
if(options.target===true){options.target=this.triggerElement;}else if(options.target){options.target=this.adapter.wrap(options.target);}
this.currentStem=options.stem;if(options.delay==null){options.delay=options.showOn==="mouseover"?0.2:0;}
if(options.targetJoint==null){options.targetJoint=new Opentip.Joint(options.tipJoint).flip();}
this.showTriggers=[];this.showTriggersWhenVisible=[];this.hideTriggers=[];if(options.showOn&&options.showOn!=="creation"){this.showTriggers.push({element:this.triggerElement,event:options.showOn});}
if(options.ajaxCache!=null){options.cache=options.ajaxCache;delete options.ajaxCache;}
this.options=options;this.bound={};_ref2=["prepareToShow","prepareToHide","show","hide","reposition"];for(_j=0,_len1=_ref2.length;_j<_len1;_j++){methodToBind=_ref2[_j];this.bound[methodToBind]=(function(methodToBind){return function(){return _this[methodToBind].apply(_this,arguments);};})(methodToBind);}
this.adapter.domReady(function(){_this.activate();if(_this.options.showOn==="creation"){return _this.prepareToShow();}});}
Opentip.prototype._setup=function(){var hideOn,hideTrigger,hideTriggerElement,i,_i,_j,_len,_len1,_ref,_ref1,_results;this.debug("Setting up the tooltip.");this._buildContainer();this.hideTriggers=[];_ref=this.options.hideTriggers;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){hideTrigger=_ref[i];hideTriggerElement=null;hideOn=this.options.hideOn instanceof Array?this.options.hideOn[i]:this.options.hideOn;if(typeof hideTrigger==="string"){switch(hideTrigger){case"trigger":hideOn=hideOn||"mouseout";hideTriggerElement=this.triggerElement;break;case"tip":hideOn=hideOn||"mouseover";hideTriggerElement=this.container;break;case"target":hideOn=hideOn||"mouseover";hideTriggerElement=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+hideTrigger+".");}}else{hideOn=hideOn||"mouseover";hideTriggerElement=this.adapter.wrap(hideTrigger);}
if(hideTriggerElement){this.hideTriggers.push({element:hideTriggerElement,event:hideOn,original:hideTrigger});}}
_ref1=this.hideTriggers;_results=[];for(_j=0,_len1=_ref1.length;_j<_len1;_j++){hideTrigger=_ref1[_j];_results.push(this.showTriggersWhenVisible.push({element:hideTrigger.element,event:"mouseover"}));}
return _results;};Opentip.prototype._buildContainer=function(){this.container=this.adapter.create("<div id=\"opentip-"+this.id+"\" class=\""+this["class"].container+" "+this["class"].hidden+" "+this["class"].stylePrefix+this.options.className+"\"></div>");this.adapter.css(this.container,{position:"absolute"});if(this.options.ajax){this.adapter.addClass(this.container,this["class"].loading);}
if(this.options.fixed){this.adapter.addClass(this.container,this["class"].fixed);}
if(this.options.showEffect){this.adapter.addClass(this.container,""+this["class"].showEffectPrefix+this.options.showEffect);}
if(this.options.hideEffect){return this.adapter.addClass(this.container,""+this["class"].hideEffectPrefix+this.options.hideEffect);}};Opentip.prototype._buildElements=function(){var headerElement,titleElement;this.tooltipElement=this.adapter.create("<div class=\""+this["class"].opentip+"\"><div class=\""+this["class"].header+"\"></div><div class=\""+this["class"].content+"\"></div></div>");this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas"));this.adapter.css(this.backgroundCanvas,{position:"absolute"});if(typeof G_vmlCanvasManager!=="undefined"&&G_vmlCanvasManager!==null){G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas));}
headerElement=this.adapter.find(this.tooltipElement,"."+this["class"].header);if(this.options.title){titleElement=this.adapter.create("<h1></h1>");this.adapter.update(titleElement,this.options.title,this.options.escapeTitle);this.adapter.append(headerElement,titleElement);}
if(this.options.ajax&&!this.loaded){this.adapter.append(this.tooltipElement,this.adapter.create("<div class=\""+this["class"].loadingIndicator+"\"><span>↻</span></div>"));}
if(__indexOf.call(this.options.hideTriggers,"closeButton")>=0){this.closeButtonElement=this.adapter.create("<a href=\"javascript:undefined;\" class=\""+this["class"].close+"\"><span>Close</span></a>");this.adapter.append(headerElement,this.closeButtonElement);}
this.adapter.append(this.container,this.backgroundCanvas);this.adapter.append(this.container,this.tooltipElement);this.adapter.append(document.body,this.container);this._newContent=true;return this.redraw=true;};Opentip.prototype.setContent=function(content){this.content=content;this._newContent=true;if(typeof this.content==="function"){this._contentFunction=this.content;this.content="";}else{this._contentFunction=null;}
if(this.visible){return this._updateElementContent();}};Opentip.prototype._updateElementContent=function(){var contentDiv;if(this._newContent||(!this.options.cache&&this._contentFunction)){contentDiv=this.adapter.find(this.container,"."+this["class"].content);if(contentDiv!=null){if(this._contentFunction){this.debug("Executing content function.");this.content=this._contentFunction(this);}
this.adapter.update(contentDiv,this.content,this.options.escapeContent);}
this._newContent=false;}
this._storeAndLockDimensions();return this.reposition();};Opentip.prototype._storeAndLockDimensions=function(){var prevDimension;if(!this.container){return;}
prevDimension=this.dimensions;this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"});this.dimensions=this.adapter.dimensions(this.container);this.dimensions.width+=1;this.adapter.css(this.container,{width:""+this.dimensions.width+"px",top:""+this.currentPosition.top+"px",left:""+this.currentPosition.left+"px"});if(!this._dimensionsEqual(this.dimensions,prevDimension)){this.redraw=true;return this._draw();}};Opentip.prototype.activate=function(){return this._setupObservers("hidden","hiding");};Opentip.prototype.deactivate=function(){this.debug("Deactivating tooltip.");this.hide();return this._setupObservers("-showing","-visible","-hidden","-hiding");};Opentip.prototype._setupObservers=function(){var observeOrStop,removeObserver,state,states,trigger,_i,_j,_k,_l,_len,_len1,_len2,_len3,_ref,_ref1,_ref2,_this=this;states=1<=arguments.length?__slice.call(arguments,0):[];for(_i=0,_len=states.length;_i<_len;_i++){state=states[_i];removeObserver=false;if(state.charAt(0)==="-"){removeObserver=true;state=state.substr(1);}
if(this.currentObservers[state]===!removeObserver){continue;}
this.currentObservers[state]=!removeObserver;observeOrStop=function(){var args,_ref,_ref1;args=1<=arguments.length?__slice.call(arguments,0):[];if(removeObserver){return(_ref=_this.adapter).stopObserving.apply(_ref,args);}else{return(_ref1=_this.adapter).observe.apply(_ref1,args);}};switch(state){case"showing":_ref=this.hideTriggers;for(_j=0,_len1=_ref.length;_j<_len1;_j++){trigger=_ref[_j];observeOrStop(trigger.element,trigger.event,this.bound.prepareToHide);}
observeOrStop((document.onresize!=null?document:window),"resize",this.bound.reposition);observeOrStop(window,"scroll",this.bound.reposition);break;case"visible":_ref1=this.showTriggersWhenVisible;for(_k=0,_len2=_ref1.length;_k<_len2;_k++){trigger=_ref1[_k];observeOrStop(trigger.element,trigger.event,this.bound.prepareToShow);}
break;case"hiding":_ref2=this.showTriggers;for(_l=0,_len3=_ref2.length;_l<_len3;_l++){trigger=_ref2[_l];observeOrStop(trigger.element,trigger.event,this.bound.prepareToShow);}
break;case"hidden":break;default:throw new Error("Unknown state: "+state);}}
return null;};Opentip.prototype.prepareToShow=function(){this._abortHiding();this._abortShowing();if(this.visible){return;}
this.debug("Showing in "+this.options.delay+"s.");if(this.container==null){this._setup();}
if(this.options.group){Opentip._abortShowingGroup(this.options.group,this);}
this.preparingToShow=true;this._setupObservers("-hidden","-hiding","showing");this._followMousePosition();if(this.options.fixed&&!this.options.target){this.initialMousePosition=mousePosition;}
this.reposition();return this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0);};Opentip.prototype.show=function(){var _this=this;this._abortHiding();if(this.visible){return;}
this._clearTimeouts();if(!this._triggerElementExists()){return this.deactivate();}
this.debug("Showing now.");if(this.container==null){this._setup();}
if(this.options.group){Opentip._hideGroup(this.options.group,this);}
this.visible=true;this.preparingToShow=false;if(this.tooltipElement==null){this._buildElements();}
this._updateElementContent();if(this.options.ajax&&(!this.loaded||!this.options.cache)){this._loadAjax();}
this._searchAndActivateCloseButtons();this._startEnsureTriggerElement();this.adapter.css(this.container,{zIndex:Opentip.lastZIndex++});this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible");if(this.options.fixed&&!this.options.target){this.initialMousePosition=mousePosition;}
this.reposition();this.adapter.removeClass(this.container,this["class"].hiding);this.adapter.removeClass(this.container,this["class"].hidden);this.adapter.addClass(this.container,this["class"].goingToShow);this.setCss3Style(this.container,{transitionDuration:"0s"});this.defer(function(){var delay;if(!_this.visible||_this.preparingToHide){return;}
_this.adapter.removeClass(_this.container,_this["class"].goingToShow);_this.adapter.addClass(_this.container,_this["class"].showing);delay=0;if(_this.options.showEffect&&_this.options.showEffectDuration){delay=_this.options.showEffectDuration;}
_this.setCss3Style(_this.container,{transitionDuration:""+delay+"s"});_this._visibilityStateTimeoutId=_this.setTimeout(function(){_this.adapter.removeClass(_this.container,_this["class"].showing);return _this.adapter.addClass(_this.container,_this["class"].visible);},delay);return _this._activateFirstInput();});return this._draw();};Opentip.prototype._abortShowing=function(){if(this.preparingToShow){this.debug("Aborting showing.");this._clearTimeouts();this._stopFollowingMousePosition();this.preparingToShow=false;return this._setupObservers("-showing","-visible","hiding","hidden");}};Opentip.prototype.prepareToHide=function(){this._abortShowing();this._abortHiding();if(!this.visible){return;}
this.debug("Hiding in "+this.options.hideDelay+"s");this.preparingToHide=true;this._setupObservers("-showing","visible","-hidden","hiding");return this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay);};Opentip.prototype.hide=function(){var _this=this;this._abortShowing();if(!this.visible){return;}
this._clearTimeouts();this.debug("Hiding!");this.visible=false;this.preparingToHide=false;this._stopEnsureTriggerElement();this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden");if(!this.options.fixed){this._stopFollowingMousePosition();}
if(!this.container){return;}
this.adapter.removeClass(this.container,this["class"].visible);this.adapter.removeClass(this.container,this["class"].showing);this.adapter.addClass(this.container,this["class"].goingToHide);this.setCss3Style(this.container,{transitionDuration:"0s"});return this.defer(function(){var hideDelay;_this.adapter.removeClass(_this.container,_this["class"].goingToHide);_this.adapter.addClass(_this.container,_this["class"].hiding);hideDelay=0;if(_this.options.hideEffect&&_this.options.hideEffectDuration){hideDelay=_this.options.hideEffectDuration;}
_this.setCss3Style(_this.container,{transitionDuration:""+hideDelay+"s"});return _this._visibilityStateTimeoutId=_this.setTimeout(function(){_this.adapter.removeClass(_this.container,_this["class"].hiding);_this.adapter.addClass(_this.container,_this["class"].hidden);_this.setCss3Style(_this.container,{transitionDuration:"0s"});if(_this.options.removeElementsOnHide){_this.debug("Removing HTML elements.");_this.adapter.remove(_this.container);delete _this.container;return delete _this.tooltipElement;}},hideDelay);});};Opentip.prototype._abortHiding=function(){if(this.preparingToHide){this.debug("Aborting hiding.");this._clearTimeouts();this.preparingToHide=false;return this._setupObservers("-hiding","showing","visible");}};Opentip.prototype.reposition=function(){var position,stem,_ref,_this=this;position=this.getPosition();if(position==null){return;}
stem=this.options.stem;if(this.options.containInViewport){_ref=this._ensureViewportContainment(position),position=_ref.position,stem=_ref.stem;}
if(this._positionsEqual(position,this.currentPosition)){return;}
if(!(!this.options.stem||stem.eql(this.currentStem))){this.redraw=true;}
this.currentPosition=position;this.currentStem=stem;this._draw();this.adapter.css(this.container,{left:""+position.left+"px",top:""+position.top+"px"});return this.defer(function(){var rawContainer,redrawFix;rawContainer=_this.adapter.unwrap(_this.container);rawContainer.style.visibility="hidden";redrawFix=rawContainer.offsetHeight;return rawContainer.style.visibility="visible";});};Opentip.prototype.getPosition=function(tipJoint,targetJoint,stem){var additionalHorizontal,additionalVertical,offsetDistance,position,stemLength,targetDimensions,targetPosition,unwrappedTarget,_ref;if(!this.container){return;}
if(tipJoint==null){tipJoint=this.options.tipJoint;}
if(targetJoint==null){targetJoint=this.options.targetJoint;}
position={};if(this.options.target){targetPosition=this.adapter.offset(this.options.target);targetDimensions=this.adapter.dimensions(this.options.target);position=targetPosition;if(targetJoint.right){unwrappedTarget=this.adapter.unwrap(this.options.target);if(unwrappedTarget.getBoundingClientRect!=null){position.left=unwrappedTarget.getBoundingClientRect().right+((_ref=window.pageXOffset)!=null?_ref:document.body.scrollLeft);}else{position.left+=targetDimensions.width;}}else if(targetJoint.center){position.left+=Math.round(targetDimensions.width/2);}
if(targetJoint.bottom){position.top+=targetDimensions.height;}else if(targetJoint.middle){position.top+=Math.round(targetDimensions.height/2);}
if(this.options.borderWidth){if(this.options.tipJoint.left){position.left+=this.options.borderWidth;}
if(this.options.tipJoint.right){position.left-=this.options.borderWidth;}
if(this.options.tipJoint.top){position.top+=this.options.borderWidth;}else if(this.options.tipJoint.bottom){position.top-=this.options.borderWidth;}}}else{if(this.initialMousePosition){position={top:this.initialMousePosition.y,left:this.initialMousePosition.x};}else{position={top:mousePosition.y,left:mousePosition.x};}}
if(this.options.autoOffset){stemLength=this.options.stem?this.options.stemLength:0;offsetDistance=stemLength&&this.options.fixed?2:10;additionalHorizontal=tipJoint.middle&&!this.options.fixed?15:0;additionalVertical=tipJoint.center&&!this.options.fixed?15:0;if(tipJoint.right){position.left-=offsetDistance+additionalHorizontal;}else if(tipJoint.left){position.left+=offsetDistance+additionalHorizontal;}
if(tipJoint.bottom){position.top-=offsetDistance+additionalVertical;}else if(tipJoint.top){position.top+=offsetDistance+additionalVertical;}
if(stemLength){if(stem==null){stem=this.options.stem;}
if(stem.right){position.left-=stemLength;}else if(stem.left){position.left+=stemLength;}
if(stem.bottom){position.top-=stemLength;}else if(stem.top){position.top+=stemLength;}}}
position.left+=this.options.offset[0];position.top+=this.options.offset[1];if(tipJoint.right){position.left-=this.dimensions.width;}else if(tipJoint.center){position.left-=Math.round(this.dimensions.width/2);}
if(tipJoint.bottom){position.top-=this.dimensions.height;}else if(tipJoint.middle){position.top-=Math.round(this.dimensions.height/2);}
return position;};Opentip.prototype._ensureViewportContainment=function(position){var needsRepositioning,newSticksOut,originals,revertedX,revertedY,scrollOffset,stem,sticksOut,targetJoint,tipJoint,viewportDimensions,viewportPosition;stem=this.options.stem;originals={position:position,stem:stem};if(!(this.visible&&position)){return originals;}
sticksOut=this._sticksOut(position);if(!(sticksOut[0]||sticksOut[1])){return originals;}
tipJoint=new Opentip.Joint(this.options.tipJoint);if(this.options.targetJoint){targetJoint=new Opentip.Joint(this.options.targetJoint);}
scrollOffset=this.adapter.scrollOffset();viewportDimensions=this.adapter.viewportDimensions();viewportPosition=[position.left-scrollOffset[0],position.top-scrollOffset[1]];needsRepositioning=false;if(viewportDimensions.width>=this.dimensions.width){if(sticksOut[0]){needsRepositioning=true;switch(sticksOut[0]){case this.STICKS_OUT_LEFT:tipJoint.setHorizontal("left");if(this.options.targetJoint){targetJoint.setHorizontal("right");}
break;case this.STICKS_OUT_RIGHT:tipJoint.setHorizontal("right");if(this.options.targetJoint){targetJoint.setHorizontal("left");}}}}
if(viewportDimensions.height>=this.dimensions.height){if(sticksOut[1]){needsRepositioning=true;switch(sticksOut[1]){case this.STICKS_OUT_TOP:tipJoint.setVertical("top");if(this.options.targetJoint){targetJoint.setVertical("bottom");}
break;case this.STICKS_OUT_BOTTOM:tipJoint.setVertical("bottom");if(this.options.targetJoint){targetJoint.setVertical("top");}}}}
if(!needsRepositioning){return originals;}
if(this.options.stem){stem=tipJoint;}
position=this.getPosition(tipJoint,targetJoint,stem);newSticksOut=this._sticksOut(position);revertedX=false;revertedY=false;if(newSticksOut[0]&&(newSticksOut[0]!==sticksOut[0])){revertedX=true;tipJoint.setHorizontal(this.options.tipJoint.horizontal);if(this.options.targetJoint){targetJoint.setHorizontal(this.options.targetJoint.horizontal);}}
if(newSticksOut[1]&&(newSticksOut[1]!==sticksOut[1])){revertedY=true;tipJoint.setVertical(this.options.tipJoint.vertical);if(this.options.targetJoint){targetJoint.setVertical(this.options.targetJoint.vertical);}}
if(revertedX&&revertedY){return originals;}
if(revertedX||revertedY){if(this.options.stem){stem=tipJoint;}
position=this.getPosition(tipJoint,targetJoint,stem);}
return{position:position,stem:stem};};Opentip.prototype._sticksOut=function(position){var positionOffset,scrollOffset,sticksOut,viewportDimensions;scrollOffset=this.adapter.scrollOffset();viewportDimensions=this.adapter.viewportDimensions();positionOffset=[position.left-scrollOffset[0],position.top-scrollOffset[1]];sticksOut=[false,false];if(positionOffset[0]<0){sticksOut[0]=this.STICKS_OUT_LEFT;}else if(positionOffset[0]+this.dimensions.width>viewportDimensions.width){sticksOut[0]=this.STICKS_OUT_RIGHT;}
if(positionOffset[1]<0){sticksOut[1]=this.STICKS_OUT_TOP;}else if(positionOffset[1]+this.dimensions.height>viewportDimensions.height){sticksOut[1]=this.STICKS_OUT_BOTTOM;}
return sticksOut;};Opentip.prototype._draw=function(){var backgroundCanvas,bulge,canvasDimensions,canvasPosition,closeButton,closeButtonInner,closeButtonOuter,ctx,drawCorner,drawLine,hb,position,stemBase,stemLength,_i,_len,_ref,_ref1,_ref2,_this=this;if(!(this.backgroundCanvas&&this.redraw)){return;}
this.debug("Drawing background.");this.redraw=false;if(this.currentStem){_ref=["top","right","bottom","left"];for(_i=0,_len=_ref.length;_i<_len;_i++){position=_ref[_i];this.adapter.removeClass(this.container,"stem-"+position);}
this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal);this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical);}
closeButtonInner=[0,0];closeButtonOuter=[0,0];if(__indexOf.call(this.options.hideTriggers,"closeButton")>=0){closeButton=new Opentip.Joint(((_ref1=this.currentStem)!=null?_ref1.toString():void 0)==="top right"?"top left":"top right");closeButtonInner=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]];closeButtonOuter=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]];}
canvasDimensions=this.adapter.clone(this.dimensions);canvasPosition=[0,0];if(this.options.borderWidth){canvasDimensions.width+=this.options.borderWidth*2;canvasDimensions.height+=this.options.borderWidth*2;canvasPosition[0]-=this.options.borderWidth;canvasPosition[1]-=this.options.borderWidth;}
if(this.options.shadow){canvasDimensions.width+=this.options.shadowBlur*2;canvasDimensions.width+=Math.max(0,this.options.shadowOffset[0]-this.options.shadowBlur*2);canvasDimensions.height+=this.options.shadowBlur*2;canvasDimensions.height+=Math.max(0,this.options.shadowOffset[1]-this.options.shadowBlur*2);canvasPosition[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]);canvasPosition[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1]);}
bulge={left:0,right:0,top:0,bottom:0};if(this.currentStem){if(this.currentStem.left){bulge.left=this.options.stemLength;}else if(this.currentStem.right){bulge.right=this.options.stemLength;}
if(this.currentStem.top){bulge.top=this.options.stemLength;}else if(this.currentStem.bottom){bulge.bottom=this.options.stemLength;}}
if(closeButton){if(closeButton.left){bulge.left=Math.max(bulge.left,closeButtonOuter[0]);}else if(closeButton.right){bulge.right=Math.max(bulge.right,closeButtonOuter[0]);}
if(closeButton.top){bulge.top=Math.max(bulge.top,closeButtonOuter[1]);}else if(closeButton.bottom){bulge.bottom=Math.max(bulge.bottom,closeButtonOuter[1]);}}
canvasDimensions.width+=bulge.left+bulge.right;canvasDimensions.height+=bulge.top+bulge.bottom;canvasPosition[0]-=bulge.left;canvasPosition[1]-=bulge.top;if(this.currentStem&&this.options.borderWidth){_ref2=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),stemLength=_ref2.stemLength,stemBase=_ref2.stemBase;}
backgroundCanvas=this.adapter.unwrap(this.backgroundCanvas);backgroundCanvas.width=canvasDimensions.width;backgroundCanvas.height=canvasDimensions.height;this.adapter.css(this.backgroundCanvas,{width:""+backgroundCanvas.width+"px",height:""+backgroundCanvas.height+"px",left:""+canvasPosition[0]+"px",top:""+canvasPosition[1]+"px"});ctx=backgroundCanvas.getContext("2d");ctx.setTransform(1,0,0,1,0,0);ctx.clearRect(0,0,backgroundCanvas.width,backgroundCanvas.height);ctx.beginPath();ctx.fillStyle=this._getColor(ctx,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal);ctx.lineJoin="miter";ctx.miterLimit=500;hb=this.options.borderWidth/2;if(this.options.borderWidth){ctx.strokeStyle=this.options.borderColor;ctx.lineWidth=this.options.borderWidth;}else{stemLength=this.options.stemLength;stemBase=this.options.stemBase;}
if(stemBase==null){stemBase=0;}
drawLine=function(length,stem,first){if(first){ctx.moveTo(Math.max(stemBase,_this.options.borderRadius,closeButtonInner[0])+1-hb,-hb);}
if(stem){ctx.lineTo(length/2-stemBase/2,-hb);ctx.lineTo(length/2,-stemLength-hb);return ctx.lineTo(length/2+stemBase/2,-hb);}};drawCorner=function(stem,closeButton,i){var angle1,angle2,innerWidth,offset;if(stem){ctx.lineTo(-stemBase+hb,0-hb);ctx.lineTo(stemLength+hb,-stemLength-hb);return ctx.lineTo(hb,stemBase-hb);}else if(closeButton){offset=_this.options.closeButtonOffset;innerWidth=closeButtonInner[0];if(i%2!==0){offset=[offset[1],offset[0]];innerWidth=closeButtonInner[1];}
angle1=Math.acos(offset[1]/_this.options.closeButtonRadius);angle2=Math.acos(offset[0]/_this.options.closeButtonRadius);ctx.lineTo(-innerWidth+hb,-hb);return ctx.arc(hb-offset[0],-hb+offset[1],_this.options.closeButtonRadius,-(Math.PI/2+angle1),angle2,false);}else{ctx.lineTo(-_this.options.borderRadius+hb,-hb);return ctx.quadraticCurveTo(hb,-hb,hb,_this.options.borderRadius-hb);}};ctx.translate(-canvasPosition[0],-canvasPosition[1]);ctx.save();(function(){var cornerStem,i,lineLength,lineStem,positionIdx,positionX,positionY,rotation,_j,_ref3,_results;_results=[];for(i=_j=0,_ref3=Opentip.positions.length/2;0<=_ref3?_j<_ref3:_j>_ref3;i=0<=_ref3?++_j:--_j){positionIdx=i*2;positionX=i===0||i===3?0:_this.dimensions.width;positionY=i<2?0:_this.dimensions.height;rotation=(Math.PI/2)*i;lineLength=i%2===0?_this.dimensions.width:_this.dimensions.height;lineStem=new Opentip.Joint(Opentip.positions[positionIdx]);cornerStem=new Opentip.Joint(Opentip.positions[positionIdx+1]);ctx.save();ctx.translate(positionX,positionY);ctx.rotate(rotation);drawLine(lineLength,lineStem.eql(_this.currentStem),i===0);ctx.translate(lineLength,0);drawCorner(cornerStem.eql(_this.currentStem),cornerStem.eql(closeButton),i);_results.push(ctx.restore());}
return _results;})();ctx.closePath();ctx.save();if(this.options.shadow){ctx.shadowColor=this.options.shadowColor;ctx.shadowBlur=this.options.shadowBlur;ctx.shadowOffsetX=this.options.shadowOffset[0];ctx.shadowOffsetY=this.options.shadowOffset[1];}
ctx.fill();ctx.restore();if(this.options.borderWidth){ctx.stroke();}
ctx.restore();if(closeButton){return(function(){var crossCenter,crossHeight,crossWidth,hcs,linkCenter;crossWidth=crossHeight=_this.options.closeButtonRadius*2;if(closeButton.toString()==="top right"){linkCenter=[_this.dimensions.width-_this.options.closeButtonOffset[0],_this.options.closeButtonOffset[1]];crossCenter=[linkCenter[0]+hb,linkCenter[1]-hb];}else{linkCenter=[_this.options.closeButtonOffset[0],_this.options.closeButtonOffset[1]];crossCenter=[linkCenter[0]-hb,linkCenter[1]-hb];}
ctx.translate(crossCenter[0],crossCenter[1]);hcs=_this.options.closeButtonCrossSize/2;ctx.save();ctx.beginPath();ctx.strokeStyle=_this.options.closeButtonCrossColor;ctx.lineWidth=_this.options.closeButtonCrossLineWidth;ctx.lineCap="round";ctx.moveTo(-hcs,-hcs);ctx.lineTo(hcs,hcs);ctx.stroke();ctx.beginPath();ctx.moveTo(hcs,-hcs);ctx.lineTo(-hcs,hcs);ctx.stroke();ctx.restore();return _this.adapter.css(_this.closeButtonElement,{left:""+(linkCenter[0]-hcs-_this.options.closeButtonLinkOverscan)+"px",top:""+(linkCenter[1]-hcs-_this.options.closeButtonLinkOverscan)+"px",width:""+(_this.options.closeButtonCrossSize+_this.options.closeButtonLinkOverscan*2)+"px",height:""+(_this.options.closeButtonCrossSize+_this.options.closeButtonLinkOverscan*2)+"px"});})();}};Opentip.prototype._getPathStemMeasures=function(outerStemBase,outerStemLength,borderWidth){var angle,distanceBetweenTips,halfAngle,hb,rhombusSide,stemBase,stemLength;hb=borderWidth/2;halfAngle=Math.atan((outerStemBase/2)/outerStemLength);angle=halfAngle*2;rhombusSide=hb/Math.sin(angle);distanceBetweenTips=2*rhombusSide*Math.cos(halfAngle);stemLength=hb+outerStemLength-distanceBetweenTips;if(stemLength<0){throw new Error("Sorry but your stemLength / stemBase ratio is strange.");}
stemBase=(Math.tan(halfAngle)*stemLength)*2;return{stemLength:stemLength,stemBase:stemBase};};Opentip.prototype._getColor=function(ctx,dimensions,color,horizontal){var colorStop,gradient,i,_i,_len;if(horizontal==null){horizontal=false;}
if(typeof color==="string"){return color;}
if(horizontal){gradient=ctx.createLinearGradient(0,0,dimensions.width,0);}else{gradient=ctx.createLinearGradient(0,0,0,dimensions.height);}
for(i=_i=0,_len=color.length;_i<_len;i=++_i){colorStop=color[i];gradient.addColorStop(colorStop[0],colorStop[1]);}
return gradient;};Opentip.prototype._searchAndActivateCloseButtons=function(){var element,_i,_len,_ref;_ref=this.adapter.findAll(this.container,"."+this["class"].close);for(_i=0,_len=_ref.length;_i<_len;_i++){element=_ref[_i];this.hideTriggers.push({element:this.adapter.wrap(element),event:"click"});}
if(this.currentObservers.showing){this._setupObservers("-showing","showing");}
if(this.currentObservers.visible){return this._setupObservers("-visible","visible");}};Opentip.prototype._activateFirstInput=function(){var input;input=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea"));return input!=null?typeof input.focus==="function"?input.focus():void 0:void 0;};Opentip.prototype._followMousePosition=function(){if(!this.options.fixed){return Opentip._observeMousePosition(this.bound.reposition);}};Opentip.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed){return Opentip._stopObservingMousePosition(this.bound.reposition);}};Opentip.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId);};Opentip.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId);};Opentip.prototype._clearTimeouts=function(){clearTimeout(this._visibilityStateTimeoutId);this._clearShowTimeout();return this._clearHideTimeout();};Opentip.prototype._triggerElementExists=function(){var el;el=this.adapter.unwrap(this.triggerElement);while(el.parentNode){if(el.parentNode.tagName==="BODY"){return true;}
el=el.parentNode;}
return false;};Opentip.prototype._loadAjax=function(){var _this=this;if(this.loading){return;}
this.loaded=false;this.loading=true;this.adapter.addClass(this.container,this["class"].loading);this.setContent("");this.debug("Loading content from "+this.options.ajax);return this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(responseText){_this.debug("Loading successful.");_this.adapter.removeClass(_this.container,_this["class"].loading);return _this.setContent(responseText);},onError:function(error){var message;message=_this.options.ajaxErrorMessage;_this.debug(message,error);_this.setContent(message);return _this.adapter.addClass(_this.container,_this["class"].ajaxError);},onComplete:function(){_this.adapter.removeClass(_this.container,_this["class"].loading);_this.loading=false;_this.loaded=true;_this._searchAndActivateCloseButtons();_this._activateFirstInput();return _this.reposition();}});};Opentip.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists()){this.deactivate();return this._stopEnsureTriggerElement();}};Opentip.prototype._ensureTriggerElementInterval=1000;Opentip.prototype._startEnsureTriggerElement=function(){var _this=this;return this._ensureTriggerElementTimeoutId=setInterval((function(){return _this._ensureTriggerElement();}),this._ensureTriggerElementInterval);};Opentip.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId);};return Opentip;})();vendors=["khtml","ms","o","moz","webkit"];Opentip.prototype.setCss3Style=function(element,styles){var prop,value,vendor,vendorProp,_results;element=this.adapter.unwrap(element);_results=[];for(prop in styles){if(!__hasProp.call(styles,prop))continue;value=styles[prop];if(element.style[prop]!=null){_results.push(element.style[prop]=value);}else{_results.push((function(){var _i,_len,_results1;_results1=[];for(_i=0,_len=vendors.length;_i<_len;_i++){vendor=vendors[_i];vendorProp=""+(this.ucfirst(vendor))+(this.ucfirst(prop));if(element.style[vendorProp]!=null){_results1.push(element.style[vendorProp]=value);}else{_results1.push(void 0);}}
return _results1;}).call(this));}}
return _results;};Opentip.prototype.defer=function(func){return setTimeout(func,0);};Opentip.prototype.setTimeout=function(func,seconds){return setTimeout(func,seconds?seconds*1000:0);};Opentip.prototype.ucfirst=function(string){if(string==null){return"";}
return string.charAt(0).toUpperCase()+string.slice(1);};Opentip.prototype.dasherize=function(string){return string.replace(/([A-Z])/g,function(_,character){return"-"+(character.toLowerCase());});};mousePositionObservers=[];mousePosition={x:0,y:0};mouseMoved=function(e){var observer,_i,_len,_results;mousePosition=Opentip.adapter.mousePosition(e);_results=[];for(_i=0,_len=mousePositionObservers.length;_i<_len;_i++){observer=mousePositionObservers[_i];_results.push(observer());}
return _results;};Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved);};Opentip._observeMousePosition=function(observer){return mousePositionObservers.push(observer);};Opentip._stopObservingMousePosition=function(removeObserver){var observer;return mousePositionObservers=(function(){var _i,_len,_results;_results=[];for(_i=0,_len=mousePositionObservers.length;_i<_len;_i++){observer=mousePositionObservers[_i];if(observer!==removeObserver){_results.push(observer);}}
return _results;})();};Opentip.Joint=(function(){function Joint(pointerString){if(pointerString==null){return;}
if(pointerString instanceof Opentip.Joint){pointerString=pointerString.toString();}
this.set(pointerString);this;}
Joint.prototype.set=function(string){string=string.toLowerCase();this.setHorizontal(string);this.setVertical(string);return this;};Joint.prototype.setHorizontal=function(string){var i,valid,_i,_j,_len,_len1,_results;valid=["left","center","right"];for(_i=0,_len=valid.length;_i<_len;_i++){i=valid[_i];if(~string.indexOf(i)){this.horizontal=i.toLowerCase();}}
if(this.horizontal==null){this.horizontal="center";}
_results=[];for(_j=0,_len1=valid.length;_j<_len1;_j++){i=valid[_j];_results.push(this[i]=this.horizontal===i?i:void 0);}
return _results;};Joint.prototype.setVertical=function(string){var i,valid,_i,_j,_len,_len1,_results;valid=["top","middle","bottom"];for(_i=0,_len=valid.length;_i<_len;_i++){i=valid[_i];if(~string.indexOf(i)){this.vertical=i.toLowerCase();}}
if(this.vertical==null){this.vertical="middle";}
_results=[];for(_j=0,_len1=valid.length;_j<_len1;_j++){i=valid[_j];_results.push(this[i]=this.vertical===i?i:void 0);}
return _results;};Joint.prototype.eql=function(pointer){return(pointer!=null)&&this.horizontal===pointer.horizontal&&this.vertical===pointer.vertical;};Joint.prototype.flip=function(){var flippedIndex,positionIdx;positionIdx=Opentip.position[this.toString(true)];flippedIndex=(positionIdx+4)%8;this.set(Opentip.positions[flippedIndex]);return this;};Joint.prototype.toString=function(camelized){var horizontal,vertical;if(camelized==null){camelized=false;}
vertical=this.vertical==="middle"?"":this.vertical;horizontal=this.horizontal==="center"?"":this.horizontal;if(vertical&&horizontal){if(camelized){horizontal=Opentip.prototype.ucfirst(horizontal);}else{horizontal=" "+horizontal;}}
return""+vertical+horizontal;};return Joint;})();Opentip.prototype._positionsEqual=function(posA,posB){return(posA!=null)&&(posB!=null)&&posA.left===posB.left&&posA.top===posB.top;};Opentip.prototype._dimensionsEqual=function(dimA,dimB){return(dimA!=null)&&(dimB!=null)&&dimA.width===dimB.width&&dimA.height===dimB.height;};Opentip.prototype.debug=function(){var args;args=1<=arguments.length?__slice.call(arguments,0):[];if(Opentip.debug&&((typeof console!=="undefined"&&console!==null?console.debug:void 0)!=null)){args.unshift("#"+this.id+" |");return console.debug.apply(console,args);}};Opentip.findElements=function(){var adapter,content,element,optionName,optionValue,options,_i,_len,_ref,_results;adapter=Opentip.adapter;_ref=adapter.findAll(document.body,"[data-ot]");_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){element=_ref[_i];options={};content=adapter.data(element,"ot");if(content===""||content==="true"||content==="yes"){content=adapter.attr(element,"title");adapter.attr(element,"title","");}
content=content||"";for(optionName in Opentip.styles.standard){optionValue=adapter.data(element,"ot"+(Opentip.prototype.ucfirst(optionName)));if(optionValue!=null){if(optionValue==="yes"||optionValue==="true"||optionValue==="on"){optionValue=true;}else if(optionValue==="no"||optionValue==="false"||optionValue==="off"){optionValue=false;}
options[optionName]=optionValue;}}
_results.push(new Opentip(element,content,options));}
return _results;};Opentip.version="2.4.6";Opentip.debug=false;Opentip.lastId=0;Opentip.lastZIndex=100;Opentip.tips=[];Opentip._abortShowingGroup=function(group,originatingOpentip){var opentip,_i,_len,_ref,_results;_ref=Opentip.tips;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){opentip=_ref[_i];if(opentip!==originatingOpentip&&opentip.options.group===group){_results.push(opentip._abortShowing());}else{_results.push(void 0);}}
return _results;};Opentip._hideGroup=function(group,originatingOpentip){var opentip,_i,_len,_ref,_results;_ref=Opentip.tips;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){opentip=_ref[_i];if(opentip!==originatingOpentip&&opentip.options.group===group){_results.push(opentip.hide());}else{_results.push(void 0);}}
return _results;};Opentip.adapters={};Opentip.adapter=null;firstAdapter=true;Opentip.addAdapter=function(adapter){Opentip.adapters[adapter.name]=adapter;if(firstAdapter){Opentip.adapter=adapter;adapter.domReady(Opentip.findElements);adapter.domReady(Opentip.followMousePosition);return firstAdapter=false;}};Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"];Opentip.position={};_ref=Opentip.positions;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){position=_ref[i];Opentip.position[position]=i;}
Opentip.styles={standard:{"extends":null,title:void 0,escapeTitle:true,escapeContent:false,className:"standard",stem:true,delay:null,hideDelay:0.1,fixed:false,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:false,offset:[0,0],containInViewport:true,autoOffset:true,showEffect:"appear",hideEffect:"fade",showEffectDuration:0.3,hideEffectDuration:0.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:true,ajax:false,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:false,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:true,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{"extends":"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[0.5,"rgba(255, 255, 255, 0.8)"],[0.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{"extends":"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[0.5,"rgba(30, 30, 30, 0.8)"],[0.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{"extends":"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[0.5,"rgba(203, 15, 19, 0.8)"],[0.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}};Opentip.defaultStyle="standard";if(typeof module!=="undefined"&&module!==null){module.exports=Opentip;}else{window.Opentip=Opentip;};var __slice=[].slice;(function($){var Adapter;$.fn.opentip=function(content,title,options){return new Opentip(this,content,title,options);};Adapter=(function(){function Adapter(){}
Adapter.prototype.name="jquery";Adapter.prototype.domReady=function(callback){return $(callback);};Adapter.prototype.create=function(html){return $(html);};Adapter.prototype.wrap=function(element){element=$(element);if(element.length>1){throw new Error("Multiple elements provided.");}
return element;};Adapter.prototype.unwrap=function(element){return $(element)[0];};Adapter.prototype.tagName=function(element){return this.unwrap(element).tagName;};Adapter.prototype.attr=function(){var args,element,_ref;element=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return(_ref=$(element)).attr.apply(_ref,args);};Adapter.prototype.data=function(){var args,element,_ref;element=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return(_ref=$(element)).data.apply(_ref,args);};Adapter.prototype.find=function(element,selector){return $(element).find(selector).get(0);};Adapter.prototype.findAll=function(element,selector){return $(element).find(selector);};Adapter.prototype.update=function(element,content,escape){element=$(element);if(escape){return element.text(content);}else{return element.html(content);}};Adapter.prototype.append=function(element,child){return $(element).append(child);};Adapter.prototype.remove=function(element){return $(element).remove();};Adapter.prototype.addClass=function(element,className){return $(element).addClass(className);};Adapter.prototype.removeClass=function(element,className){return $(element).removeClass(className);};Adapter.prototype.css=function(element,properties){return $(element).css(properties);};Adapter.prototype.dimensions=function(element){return{width:$(element).outerWidth(),height:$(element).outerHeight()};};Adapter.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];};Adapter.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};};Adapter.prototype.mousePosition=function(e){if(e==null){return null;}
return{x:e.pageX,y:e.pageY};};Adapter.prototype.offset=function(element){var offset;offset=$(element).offset();return{left:offset.left,top:offset.top};};Adapter.prototype.observe=function(element,eventName,observer){return $(element).bind(eventName,observer);};Adapter.prototype.stopObserving=function(element,eventName,observer){return $(element).unbind(eventName,observer);};Adapter.prototype.ajax=function(options){var _ref,_ref1;if(options.url==null){throw new Error("No url provided");}
return $.ajax({url:options.url,type:(_ref=(_ref1=options.method)!=null?_ref1.toUpperCase():void 0)!=null?_ref:"GET"}).done(function(content){return typeof options.onSuccess==="function"?options.onSuccess(content):void 0;}).fail(function(request){return typeof options.onError==="function"?options.onError("Server responded with status "+request.status):void 0;}).always(function(){return typeof options.onComplete==="function"?options.onComplete():void 0;});};Adapter.prototype.clone=function(object){return $.extend({},object);};Adapter.prototype.extend=function(){var sources,target;target=arguments[0],sources=2<=arguments.length?__slice.call(arguments,1):[];return $.extend.apply($,[target].concat(__slice.call(sources)));};return Adapter;})();return Opentip.addAdapter(new Adapter);})(jQuery);;(function($){'use strict';if($.fn.bootstrapTable){$.fn.bootstrapTable.locales['en-US']={formatLoadingMessage:function(){return'Loading, please wait...';},formatRecordsPerPage:function(pageNumber){return pageNumber+' records per page';},formatShowingRows:function(pageFrom,pageTo,totalRows){return'Showing '+pageFrom+' to '+pageTo+' of '+totalRows+' rows';},formatSearch:function(){return recipe_data.search_lang;},formatNoMatches:function(){return recipe_data.not_found_langs;},formatPaginationSwitch:function(){return'Hide/Show pagination';},formatRefresh:function(){return'Refresh';},formatToggle:function(){return'Toggle';},formatColumns:function(){return'Columns';}};$.extend($.fn.bootstrapTable.defaults,$.fn.bootstrapTable.locales['en-US']);}})(jQuery);jQuery(document).ready(function($){"use strict";$('.register-form').append('<input type="hidden" name="captcha" value="1">');$(window).load(function(){if($('.bt-table').length>0){$('.pretable-loading').hide();$('.bt-table').show();}});$(window).on('scroll',function(){if($(window).scrollTop()>200){$('.to_top').fadeIn(100);}
else{$('.to_top').fadeOut(100);}});$('.to_top').click(function(e){e.preventDefault();$("html, body").stop().animate({scrollTop:0},{duration:1200});});$('.gallery-slider').responsiveSlides({speed:800,auto:false,pager:false,nav:true,prevText:'<i class="fa fa-angle-left"></i>',nextText:'<i class="fa fa-angle-right"></i>',});function handle_navigation(){if($(window).width()>=767){$('ul.nav li.dropdown, ul.nav li.dropdown-submenu').hover(function(){$(this).addClass('open').find(' > .dropdown-menu').stop(true,true).hide().slideDown(200);},function(){$(this).removeClass('open').find(' > .dropdown-menu').stop(true,true).show().slideUp(200);});}
else{$('ul.nav li.dropdown, ul.nav li.dropdown-submenu').unbind('mouseenter mouseleave');}}
$(document).on('click','#navigation a',function(e){if($(window).width()<768&&e.target.nodeName=='I'){return false;}
else if($(this).attr('href').indexOf('http')>-1&&!$(this).attr('target')&&!e.ctrlKey){window.location.href=$(this).attr('href');}});$(window).resize(function(){setTimeout(function(){handle_navigation();},200);});function start_slider(){$('.post-slider').responsiveSlides({speed:800,auto:false,pager:false,nav:true,prevText:'<i class="fa fa-angle-left"></i>',nextText:'<i class="fa fa-angle-right"></i>',});}
start_slider();$('.submit-live-form').click(function(){$(this).parents('form').submit();});$('.submit-form').click(function(){var $this=$(this);var $form=$this.parents('form');var $result=$form.find('.send_result');if($this.find('i').length==0){var $html=$this.html();$this.html($html+' <i class="fa fa-spin fa-spinner"></i>');if($form.find('#description').length>0&&typeof tinyMCE!=='undefined'&&$('#wp-description-wrap').hasClass('tmce-active')){var tiny=tinyMCE.get('description').getContent();$('#description').val(tiny);}
if($form.find('#recipe_steps').length>0&&typeof tinyMCE!=='undefined'&&$('#wp-recipe_steps-wrap').hasClass('tmce-active')){var tiny=tinyMCE.get('recipe_steps').getContent();$('#recipe_steps').val(tiny);}
$.ajax({url:recipe_data.ajaxurl,data:$form.serialize(),method:$form.attr('method'),dataType:"JSON",success:function(response){if(response.message){$result.html(response.message);if(response.new_id){$form.find('input[name="subaction"]').val('edit');$form.append('<input type="hidden" name="recipe_id" value="'+response.new_id+'">');}}
if(response.url){window.location.href=response.url;}},complete:function(){$this.html($html);}});}});$('.subscribe').click(function(e){e.preventDefault();var $this=$(this);var $parent=$this.parents('.subscribe-form');$.ajax({url:recipe_data.ajaxurl,method:"POST",data:{action:'subscribe',email:$parent.find('.email').val()},dataType:"JSON",success:function(response){if(!response.error){$parent.find('.sub_result').html('<div class="alert alert-success" role="alert"><span class="fa fa-check-circle"></span> '+response.success+'</div>');}
else{$parent.find('.sub_result').html('<div class="alert alert-danger" role="alert"><span class="fa fa-times-circle"></span> '+response.error+'</div>');}}})});$('.recipe-favourite').click(function(e){e.preventDefault();var $this=$(this);var recipe_id=$this.data('recipe_id');$.ajax({url:recipe_data.ajaxurl,method:"POST",dataType:"JSON",data:{action:'favourite',recipe_id:recipe_id},success:function(response){if(response.status=='deleted'){if($this.find('.fa-heart').length>0){$this.find('i').attr('class','fa fa-heart-o');$this.parents('li').data('title',response.message);$this.parents('li').data("opentips")[0].setContent(response.message);}
else{$this.parents('tr').fadeOut(function(){$('.table-striped').bootstrapTable('destroy');$('a[data-recipe_id="'+recipe_id+'"]').parents('tr').remove();$('[data-toggle="table"]').bootstrapTable();});}}
else if(response.status=='added'){$this.find('i').attr('class','fa fa-heart');$this.parents('li').data('title',response.message);$this.parents('li').data("opentips")[0].setContent(response.message);}
else{alert(response.message);}}});});$('.send-contact').click(function(e){e.preventDefault();var $this=$(this);var $html=$this.html();$this.append(' <i class="fa fa-spin fa-spinner"></i>');$.ajax({url:recipe_data.ajaxurl,method:"POST",data:{action:'contact',name:$('.name').val(),email:$('.email').val(),subject:$('.subject').val(),message:$('.message').val()},dataType:"JSON",success:function(response){if(!response.error){$('.send_result').html('<div class="alert alert-success" role="alert"><span class="fa fa-check-circle"></span> '+response.success+'</div>');}
else{$('.send_result').html('<div class="alert alert-danger" role="alert"><span class="fa fa-times-circle"></span> '+response.error+'</div>');}},complete:function(){$this.html($html);}})});$('.gallery').each(function(){var $this=$(this);$this.magnificPopup({type:'image',delegate:'a',gallery:{enabled:true},});});var main_images=$('.main-slider img').length;function main_slider_load(){main_images--
if(main_images==0){var slide_counter=0;$('.slider-caption').each(function(){var $this=$(this);var $parent=$this.parents('.main-slider-item');var source=$parent.find('.slide-item');var canvasId=$parent.find('canvas').attr('id');$this.height($this.find('.main-caption-content').outerHeight(true));slide_counter++;source.attr('id','slide_item_'+slide_counter);stackBlurImage('slide_item_'+slide_counter,canvasId,30,false);$parent.find('canvas').css('height',$('#slide_item_'+slide_counter).height()+'!important');});$('.main-slider').owlCarousel({pagination:false,navigation:false,autoPlay:$('.main-slider').data('auto')!==''?$('.main-slider').data('auto'):false,items:1,stopOnHover:true,singleItem:true,navigationText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],addClassActive:true,afterInit:function(){$('.active .slider-caption').css('bottom','0px');$('.active .slider-caption canvas').css('bottom','0px');},afterMove:function(){$('.owl-item:not(.active) .slider-caption').css('bottom','-400px');$('.owl-item:not(.active) .slider-caption canvas').css('bottom','400px');$('.active .slider-caption').css('bottom','0px');$('.active .slider-caption canvas').css('bottom','0px');}});}}
if($('.main-slider').length>0){$('.main-slider img').each(function(){if(this.complete){main_slider_load.call(this);}
else{$(this).one('load',main_slider_load);}});$(window).resize(function(){setTimeout(function(){$('.owl-item').each(function(){var $this=$(this);$this.find('.slider-caption').height($this.find('.main-caption-content').outerHeight(true));$this.find('canvas').css('height',$this.find('img[id^="slide_item"]').height()+'!important');});},500);});}
$(document).on('click','.main-search',function(){var $main_search_input=$(this).parents('section').find('.main-search-input');if(!$main_search_input.hasClass('open')){$main_search_input.show();$main_search_input.animate({width:250,paddingLeft:10,paddingRight:10},500,function(){$main_search_input.addClass('open');$main_search_input.focus();});}
else{$main_search_input.animate({width:0,paddingLeft:0,paddingRight:0},500,function(){$main_search_input.hide();$main_search_input.removeClass('open')});}});$(document).on('click','.small-search-toggle',function(){setTimeout(function(){$('section:not(.sticky_nav) .search-collapse input').focus();},500);});$('.post-like').click(function(e){e.preventDefault();var $this=$(this);var post_id=$this.data('post_id');$.ajax({url:recipe_data.ajaxurl,method:"POST",dataType:"JSON",data:{action:'likes_views',meta:'likes',post_id:post_id},success:function(response){if(!response.error){if($this.find('.like-count').length>0){$this.find('.like-count').text(response.count);}
else{$this.parents('li').data('title',response.count);$this.parents('li').data("opentips")[0].setContent(response.count);}}
else{alert(response.error);}}});});var $single_post=$('input[name="post-id"]');if($single_post.length>0){$.ajax({url:recipe_data.ajaxurl,method:"POST",data:{action:'likes_views',meta:'views',post_id:$single_post.val()},});}
function sticky_nav(){var $admin=$('#wpadminbar');if($admin.length>0&&$admin.css('position')=='fixed'){$sticky_nav.css('top',$admin.height());}
else{$sticky_nav.css('top','0');}}
if(recipe_data.enable_sticky=='yes'){var $navigation_bar=$('.navigation-bar');var $sticky_nav=$navigation_bar.clone().addClass('sticky_nav');$('body').append($sticky_nav);$(window).on('scroll',function(){if($(window).scrollTop()>=$navigation_bar.position().top&&$(window).width()>769){$sticky_nav.slideDown();}
else{$sticky_nav.slideUp();}});sticky_nav();handle_navigation();$(window).resize(function(){sticky_nav();});}
$('.remove-recipe').click(function(){var $this=$(this);var $html=$this.html();var recipe_id=$this.data('recipe_id');$this.html('<i class="fa fa-spin fa-spinner"></i>');$.ajax({url:recipe_data.ajaxurl,method:"POST",data:{action:'remove_recipe',recipe_id:recipe_id},success:function(){$this.parents('tr').fadeOut(function(){$('.table-striped').bootstrapTable('destroy');$('a[data-recipe_id="'+recipe_id+'"]').parents('tr').remove();$('[data-toggle="table"]').bootstrapTable();});},error:function(){$this.html($html);}})});$('.fake-checkbox').each(function(){var $this=$(this);$this.parents('li').click(function(e){if(e.target.nodeName=='A'&&$(e.target).hasClass('fake-chekckbox')){$(this).toggleClass('checked');}
else if(e.target.nodeName=='A'){}
else{$(this).toggleClass('checked');}});});$('.comment-review .icon').hover(function(){var pos=$(this).index();var $parent=$(this).parents('.bottom-ratings');for(var i=0;i<=pos;i++){$parent.find('.icon:eq('+i+')').css('color','#FF8C00');}},function(){$(this).parents('.bottom-ratings').find('.icon').each(function(){if(!$(this).hasClass('clicked')){$(this).css('color','');}});});$('.comment-review .icon').click(function(){var value=$(this).index();var $parent=$(this).parents('.bottom-ratings');$('#review').val(value+1);$parent.find('.icon').removeClass('clicked');for(var i=0;i<=value;i++){$parent.find('.icon:eq('+i+')').css('color','#FF8C00').addClass('clicked');}});$('.tip').each(function(){new Opentip($(this),$(this).data('title'),"",{background:'#454545',borderWidth:0,shadow:0});});$('.print-recipe').click(function(){$('.print-container').remove();var title=$('.post-title').clone().addClass('print-title');var details=$('.recipe-details').clone().addClass('print-details');var img=$('.featured-image').clone().addClass('print-image');$('body').append('<div class="container print-container"></div>');$('.print-container').append(title);$('.print-container').append(details);var imagePrint=confirm($(this).data('confirm'));if(imagePrint==true){$('.print-container').append(img);}
window.print();});if($('.timepicker').length>0){$('.timepicker').timepicki({increase_direction:'up'});}
$(document).on('click','.submit_form',function(){$(this).parents('form').submit();});});
;!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d)if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);